# üìÖ –ü–æ—à–∞–≥–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Google Calendar –¥–ª—è —É—á–∏—Ç–µ–ª—è

## üéØ –¶–µ–ª—å: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º —É—á–∏—Ç–µ–ª—è

–ë–æ—Ç –±—É–¥–µ—Ç:
‚úÖ –ß–∏—Ç–∞—Ç—å –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π Google Calendar
‚úÖ –ù–∞—Ö–æ–¥–∏—Ç—å —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã
‚úÖ –ü—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è —É—á–µ–Ω–∏–∫–∞–º
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—ã—Ç–∏—è –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏

---

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ –≤ Google Cloud Console

### 1.1 –ü–µ—Ä–µ—Ö–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Cloud Console](https://console.cloud.google.com/)
2. –í–æ–π–¥–∏—Ç–µ –ø–æ–¥ –∞–∫–∫–∞—É–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–≤—è–∑–∞–Ω —Å –≤–∞—à–∏–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º —É—á–∏—Ç–µ–ª—è

### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
1. –í–≤–µ—Ä—Ö—É —Å–ª–µ–≤–∞ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤
2. –ù–∞–∂–º–∏—Ç–µ "NEW PROJECT" (–ù–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Project name**: `Polish Teacher Bot`
   - **Organization**: –æ—Å—Ç–∞–≤—å—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
4. –ù–∞–∂–º–∏—Ç–µ "CREATE"

---

## –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Calendar API

### 2.1 –ê–∫—Ç–∏–≤–∞—Ü–∏—è API
1. –í –º–µ–Ω—é —Å–ª–µ–≤–∞: **APIs & Services** ‚Üí **Library**
2. –í –ø–æ–∏—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ: `Google Calendar API`
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç "Google Calendar API"
4. –ù–∞–∂–º–∏—Ç–µ **ENABLE** (–í–∫–ª—é—á–∏—Ç—å)

### 2.2 –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
–ü–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è –≤—ã —É–≤–∏–¥–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥ API —Å –≥—Ä–∞—Ñ–∏–∫–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

## –®–∞–≥ 3: –°–æ–∑–¥–∞–Ω–∏–µ Service Account

### 3.1 –ü–µ—Ä–µ—Ö–æ–¥ –∫ Credentials
1. **APIs & Services** ‚Üí **Credentials**
2. –ù–∞–∂–º–∏—Ç–µ **+ CREATE CREDENTIALS**
3. –í—ã–±–µ—Ä–∏—Ç–µ **Service Account**

### 3.2 –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Service Account
**–®–∞–≥ 1 - Service account details:**
- **Service account name**: `teacher-calendar-bot`
- **Service account ID**: `teacher-calendar-bot` (–∑–∞–ø–æ–ª–Ω–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
- **Description**: `Service account for reading teacher calendar`
- –ù–∞–∂–º–∏—Ç–µ **CREATE AND CONTINUE**

**–®–∞–≥ 2 - Grant access (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –Ω–∞–∂–º–∏—Ç–µ **CONTINUE**

**–®–∞–≥ 3 - Grant users access (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –Ω–∞–∂–º–∏—Ç–µ **DONE**

---

## –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª—é—á–∞ –¥–æ—Å—Ç—É–ø–∞

### 4.1 –°–æ–∑–¥–∞–Ω–∏–µ JSON –∫–ª—é—á–∞
1. –í —Å–ø–∏—Å–∫–µ Service Accounts –Ω–∞–π–¥–∏—Ç–µ `teacher-calendar-bot`
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ email Service Account
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **KEYS**
4. –ù–∞–∂–º–∏—Ç–µ **ADD KEY** ‚Üí **Create new key**
5. –í—ã–±–µ—Ä–∏—Ç–µ **JSON** –∏ –Ω–∞–∂–º–∏—Ç–µ **CREATE**
6. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∞–µ—Ç—Å—è –∫–∞–∫ `polish-teacher-bot-xxxxx.json`

### 4.2 –í–∞–∂–Ω–æ –∑–∞–ø–æ–º–Ω–∏—Ç—å!
üìß **Email Service Account** (–±—É–¥–µ—Ç –Ω—É–∂–µ–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ):
–§–æ—Ä–º–∞—Ç: `teacher-calendar-bot@polish-teacher-bot-xxxxx.iam.gserviceaccount.com`

---

## –®–∞–≥ 5: –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—é

### 5.1 –û—Ç–∫—Ä—ã—Ç–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
1. –û—Ç–∫—Ä–æ–π—Ç–µ [Google Calendar](https://calendar.google.com/)
2. –í –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞–π–¥–∏—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —É—á–∏—Ç–µ–ª—è (–æ–±—ã—á–Ω–æ –≤–∞—à –æ—Å–Ω–æ–≤–Ω–æ–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å)
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ç—Ä–∏ —Ç–æ—á–∫–∏ —Ä—è–¥–æ–º —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∫–∞–ª–µ–Ω–¥–∞—Ä—è
4. –í—ã–±–µ—Ä–∏—Ç–µ **Settings and sharing** (–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –æ–±—â–∏–π –¥–æ—Å—Ç—É–ø)

### 5.2 –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Service Account
1. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ —Ä–∞–∑–¥–µ–ª–∞ **Share with specific people**
2. –ù–∞–∂–º–∏—Ç–µ **+ Add people**
3. –í–≤–µ–¥–∏—Ç–µ email Service Account (–∏–∑ —à–∞–≥–∞ 4.2)
4. –í –≤—ã–ø–∞–¥–∞—é—â–µ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **Make changes to events** (–í–Ω–µ—Å–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
5. –ù–∞–∂–º–∏—Ç–µ **Send** (–û—Ç–ø—Ä–∞–≤–∏—Ç—å)

### 5.3 –ü–æ–ª—É—á–µ–Ω–∏–µ Calendar ID
1. –í —Ç–æ–π –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Calendar ID**
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Calendar ID** (–≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ email –∏–ª–∏ "primary")

---

## –®–∞–≥ 6: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ credentials.json

### 6.1 –ú–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è JSON
–°–∫–∞—á–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É –¥–ª—è .env —Ñ–∞–π–ª–∞.

**–°–ø–æ—Å–æ–± 1: –û–Ω–ª–∞–π–Ω**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [JSON Minifier](https://www.cleancss.com/json-minify/)
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–Ω—Ç–µ–Ω—Ç —Ñ–∞–π–ª–∞ `polish-teacher-bot-xxxxx.json`
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –º–∏–Ω–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ "Minify JSON"
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–°–ø–æ—Å–æ–± 2: –í –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ**
```bash
# –ó–∞–º–µ–Ω–∏—Ç–µ 'your-file.json' –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ —Ñ–∞–π–ª–∞
node -e "console.log(JSON.stringify(require('./polish-teacher-bot-xxxxx.json')))"
```

---

## –®–∞–≥ 7: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ .env —Ñ–∞–π–ª–∞

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –æ–±–Ω–æ–≤–∏—Ç–µ:

```bash
# Telegram Bot
BOT_TOKEN=7769373001:AAHwJ_IL-KEsVOldAKwc2ZMCz9Zu7ZyZwfM

# Google Calendar –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
GOOGLE_CREDENTIALS={"type":"service_account","project_id":"polish-teacher-bot-xxxxx","private_key_id":"xxxxx",...}
CALENDAR_ID=primary

# –†–∞–±–æ—á–∏–µ —á–∞—Å—ã —É—á–∏—Ç–µ–ª—è (24-—á–∞—Å–æ–≤–æ–π —Ñ–æ—Ä–º–∞—Ç)
WORK_START_HOUR=9
WORK_END_HOUR=20
WORK_DAYS=1,2,3,4,5,6

# –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É—Ä–æ–∫–∞ (–º–∏–Ω—É—Ç—ã)
LESSON_DURATION=60
BREAK_DURATION=30

# –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å
TIMEZONE=Europe/Warsaw
```

---

## –®–∞–≥ 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 8.1 –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
```bash
npm start
```

### 8.2 –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
```
‚úÖ Google Calendar API –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
üáµüá± Polish Teacher Bot (—É–ª—É—á—à–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è) –∑–∞–ø—É—â–µ–Ω...
üìÖ Google Calendar –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è: –ê–∫—Ç–∏–≤–Ω–∞
```

### 8.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ Telegram
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É `/start`
2. –ù–∞–∂–º–∏—Ç–µ "Um√≥w lekcjƒô"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —É—Ä–æ–∫–∞
4. **–í–∞–∂–Ω–æ**: –±–æ—Ç –¥–æ–ª–∂–µ–Ω –ø–æ–∫–∞–∑–∞—Ç—å "üîÑ Sprawdzam dostƒôpne terminy..."
5. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã –∏–∑ –≤–∞—à–µ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

---

## üîß Troubleshooting

### ‚ùå "Google Calendar API –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç GOOGLE_CREDENTIALS (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –≤–∫–ª—é—á–µ–Ω –≤ Google Cloud Console

### ‚ùå "Calendar not found" 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å CALENDAR_ID
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å "primary" –≤–º–µ—Å—Ç–æ email –∫–∞–ª–µ–Ω–¥–∞—Ä—è

### ‚ùå "Insufficient permissions"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Service Account –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ ("Make changes to events")

### ‚ùå –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç "—Ç–µ—Ä–º–∏–Ω—ã –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤ –≤ .env
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ –µ—Å—Ç—å —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å

---

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. **–ë–æ—Ç —á–∏—Ç–∞–µ—Ç –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –∫–∞–ª–µ–Ω–¥–∞—Ä—å**
2. **–ù–∞—Ö–æ–¥–∏—Ç —Å–≤–æ–±–æ–¥–Ω—ã–µ —Å–ª–æ—Ç—ã –≤ —Ä–∞–±–æ—á–∏–µ —á–∞—Å—ã**
3. **–£—á–µ–Ω–∏–∫–∏ –≤–∏–¥—è—Ç —Ç–æ–ª—å–∫–æ –¥–æ—Å—Ç—É–ø–Ω–æ–µ –≤—Ä–µ–º—è**
4. **–ü—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ –≤ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ**
5. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è —É—á–µ–Ω–∏–∫–∞–º**

---

**–ì–æ—Ç–æ–≤–æ!** –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–º —É—á–∏—Ç–µ–ª—è! üéâ
